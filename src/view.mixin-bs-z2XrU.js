import{s as l,r as u,k as c,n as f,N as p,A as m,M as v}from"./index-Di7RLN8Y.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class b{constructor(i,a,s,t){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,r)=>{this.unsubscribe&&(this.unsubscribe!==r&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,r)),this.unsubscribe=r},this.host=i,a.context!==void 0){const e=a;this.context=e.context,this.callback=e.callback,this.subscribe=e.subscribe??!1}else this.context=a,this.callback=s,this.subscribe=t??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new l(this.context,this.host,this.t,this.subscribe))}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function d({context:n,subscribe:i}){return(a,s)=>{typeof s=="object"?s.addInitializer(function(){new b(this,{context:n,callback:t=>{a.set.call(this,t)},subscribe:i})}):a.constructor.addInitializer(t=>{new b(t,{context:n,callback:e=>{t[s]=e},subscribe:i})})}}var x=Object.defineProperty,o=(n,i,a,s)=>{for(var t=void 0,e=n.length-1,r;e>=0;e--)(r=n[e])&&(t=r(i,a,t)||t);return t&&x(i,a,t),t};const C=n=>{class i extends n{constructor(){super(...arguments),this.navItems=[],this.accesses=[],this.tagName="",this.componentData={},this.featureIsEnabled=!1,this.isMfe=!1}connectedCallback(){var s;super.connectedCallback(),this.featureIsEnabled=!0,this.isMfe?this.componentData=this.navItems.filter(t=>{var e;return((e=t.mfeComponent)==null?void 0:e.tagName)===this.tagName})[0]:this.componentData=this.navItems.filter(t=>t.tagName===this.tagName)[0],(s=this.mfeLoader)==null||s.init()}firstUpdated(s){var e,r;super.firstUpdated(s);let t;if((e=this.mfeLoader)==null||e.config.filter(h=>{h.tagName===this.tagName&&(t=document.createElement(this.tagName))}),t){const h=(r=this.shadowRoot)==null?void 0:r.querySelector(`#mfe-container-${this.tagName}`);h==null||h.appendChild(t)}}renderUnderConstruction(){var s;return(s=this.componentData)!=null&&s.userHasPermission?c`<under-construction></under-construction>`:c`<no-access></no-access>`}renderMfe(s){var t;return s?c`${s}`:c`${this.featureIsEnabled&&((t=this.componentData)!=null&&t.userHasPermission)&&this.isMfe?c`<div id="mfe-container-${this.tagName}"></div>`:this.renderUnderConstruction()}`}render(){return c`${this.renderMfe}`}}return o([d({context:p,subscribe:!0}),f({type:Array})],i.prototype,"navItems"),o([d({context:m,subscribe:!0}),u()],i.prototype,"accesses"),o([d({context:v,subscribe:!0}),u()],i.prototype,"mfeLoader"),o([u()],i.prototype,"tagName"),o([u()],i.prototype,"componentData"),o([u()],i.prototype,"featureIsEnabled"),i};export{C as V};
